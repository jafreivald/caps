<%#
# File Created by Joseph Freivald
# Copyright (c) 2015
# All Rights Reserved. Use pursuant to Joseph Freivald's instructions.
%>

<html>
    <head>
        <title>CAPS</title>
        <%= stylesheet_link_tag    "application", :media => "all" %>
        <%= javascript_include_tag "application" %>
        <%= csrf_meta_tags %>
    </head>
    <body>
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <div class="navbar-brand">
                        CAPS
                    </div>
                </div>
                <% if current_profile %>
                  <ul class="nav navbar-nav">
                      <%= content_tag :li, {:class => ("active" if params[:controller] == "activities") } do; link_to "Activities", activities_path; end  %>
                      <%= content_tag :li, {:class => ("active" if params[:controller] == "activity_updates") } do; link_to "Activity Updates", activity_updates_path; end  %>
                      <%= content_tag :li, {:class => "dropdown"} do %>
                        <%= link_to "#", {:class => "dropdown-toggle", :'data-toggle' => "dropdown"} do %>
                          <span class="caret"></span> Profile Management
                        <% end %>
                        <%= content_tag :ul, {:class => "dropdown-menu"} do %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "contact_numbers") } do; link_to "Contact Numbers", contact_numbers_path; end %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "phone_numbers") } do; link_to "Phone Numbers", phone_numbers_path; end %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "profiles") } do; link_to "Profiles", profiles_path; end %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "resources") } do; link_to "Resources", resources_path; end %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "resource_authorizations") } do; link_to "Resource Authorizations", resource_authorizations_path; end %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "resource_utilizations") } do; link_to "Resource Utilizations", resource_utilizations_path; end %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "role_definitions") } do; link_to "Role Definitions", role_definitions_path; end %>
                        <% end %>
                      <% end %>
                      <%= content_tag :li, {:class => "dropdown"} do %>
                        <%= link_to "#", {:class => "dropdown-toggle", :'data-toggle' => "dropdown"} do %>
                          <span class="caret"></span> Lookup Tables
                        <% end %>
                        <%= content_tag :ul, {:class => "dropdown-menu"} do %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "actions") } do; link_to "Actions", actions_path; end  %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "activity_types") } do; link_to "Activity Types", activity_types_path; end %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "contact_methods") } do; link_to "Contact Methods", contact_methods_path; end %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "fhir_base_urls") } do; link_to "FHIR Base URLs", fhir_base_urls_path; end %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "phone_providers") } do; link_to "Phone Providers", phone_providers_path; end %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "phone_types") } do; link_to "Phone Types", phone_types_path; end %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "roles") } do; link_to "Roles", roles_path; end %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "severity_levels") } do; link_to "Severity Levels", severity_levels_path; end %>
                          <%= content_tag :li, {:class => ("active" if params[:controller] == "update_actions") } do; link_to "Update Actions", update_actions_path; end %>
                        <% end %>
                      <% end %>
                  </ul>
                  <ul class="nav navbar-nav navbar-right">
                      <%= content_tag :li do %>
                        <%= link_to current_profile do %>
                          <span class="glyphicon glyphicon-user"></span> <%= current_profile.first_name + " " + current_profile.last_name %>
                        <% end %>
                      <% end %>
                      <%= content_tag :li do %>
                        <%= link_to logout_path do %>
                          <span class="glyphicon glyphicon-log-out"></span> Logout
                        <% end %>
                      <% end %>
                  </ul>
                <% else %>
                  <ul class="nav navbar-nav navbar-right">
                      <%= content_tag :li do %>
                        <%= link_to signup_path do %>
                          <span class="glyphicon glyphicon-user"></span> Sign Up
                        <% end %>
                      <% end %>
                      <%= content_tag :li do %>
                        <%= link_to login_path do %>
                          <span class="glyphicon glyphicon-log-in"></span> Log In
                        <% end %>
                      <% end %>
                  </ul>
                <% end %>
            </div>
        </nav>
