<%= form_for(@resource) do |f| %>
  <% if @resource.errors.any? %>
    <div id="error_explanation">
        <h2><%= pluralize(@resource.errors.count, "error") %> prohibited this resource from being saved:</h2>

        <ul>
            <% @resource.errors.full_messages.each do |msg| %>
              <li><%= msg %></li>
            <% end %>
        </ul>
    </div>
  <% end %>

  <div class="form-group">
      <%= f.label :fhir_base_url %><br />
      <%= f.collection_select :fhir_base_url_id, FhirBaseUrl.all, :id, :fhir_base_url, {}, :class => "form-control" %>
  </div>
  <div class="form-group">
      <%= f.label :resource_type %><br />
      <%= f.collection_select :resource_type_id, ResourceType.all, :id, :resource_type, {}, :class => "form-control" %>
  </div>
  <div class="form-group">
      <%= f.label :fhir_resource_id %><br />
      <%= f.text_field :fhir_resource_id, :class => "form-control" %>
  </div>
  <div class="actions">
      <%= f.submit :class => "submit_record btn btn-primary" %>
  </div>
  <div class="panel panel-default">
      <div class="panel-heading">REST Result for this resource</div>
      <div class="panel-body">
          <% @resource.rest_resource_info.each do |d| %>
            <%= d.html_safe %>
          <% end %>
      </div>
  </div>
  <% if @resource.resource_type.resource_type == "Patient" %>
    <table class="display">
        <thead>
            <tr>
                <th>Resource Type</th>
                <th>Resource</th>
                <th>Modify</th>
            </tr>
        </thead>
        <tbody>
            <% @related_rest_resources.each do |e| %>
              <tr>
                  <td><%= e.resource_type.resource_type %></td>
                  <td>
                      <% e.rest_resource_info.each do |d| %>
                        <%= d.to_s.html_safe %>
                      <% end %>
                  </td>
                  <td></td>
              </tr>
            <% end %>
        </tbody>
    </table>
    --->
  <% end %>
<% end %>
